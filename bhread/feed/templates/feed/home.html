{% extends base_template %}
{% block content %}
{% load static %}
<ol style="list-style-type: none; padding-left: 0px">
  {% for post, replies, favicon in posts %}
  <li>
    <h3 class="flex items-center">
      {% if favicon %}
      <img class="mr-2" height="20" width="20" src="{{ favicon }}" />
      {% endif %}
      <a href="{{ post.url }}">{{ post.title }}</a>
    </h3>
    <p></p>
    <div hx-disable>
      {% autoescape off %} {{ post.content }} {% endautoescape %}
    </div>
    <a href="{{ post.url }}">visit site</a>
    <div class="flex items-center">
      <p class="pr-2">{{ post.date_added | timesince }} ago</p>
      <div class="border-solid border-b-lochmara hover:border-b-2">
        <a
          class="flex items-center hover:no-underline"
          href="{% url 'detail' post.id %}"
          hx-boost="true"
          hx-indicator="#page-load-spinner"
          hx-swap="innerHTML"
        >
          <span class="material-symbols-outlined size-20 mr-1"> forum </span>
          {{ replies }} Repl{{ replies|pluralize:"y,ies"}}
        </a>
      </div>
    </div>
  </li>
  {% empty %}
  <h2>No posts found</h2>
  <p>
    If your feed is configured, you may add a post by publishing a blog post
    starting with: 'replying to [link here]'
  </p>
  {% endfor %}
</ol>
{% endblock %}
